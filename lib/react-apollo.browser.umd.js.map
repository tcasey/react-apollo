{"version":3,"file":"react-apollo.browser.umd.js","sources":["getDataFromTree.js","ApolloConsumer.js","queryRecycler.js","QueryRecyclerProvider.js","ApolloProvider.js","parser.js","Query.js","graphql.js","withApollo.js","browser.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar assign = require('object-assign');\nfunction getProps(element) {\n    return (element.props ||\n        element.attributes);\n}\nfunction isReactElement(element) {\n    return !!element.type;\n}\nfunction isComponentClass(Comp) {\n    return (Comp.prototype && (Comp.prototype.render || Comp.prototype.isReactComponent));\n}\nfunction providesChildContext(instance) {\n    return !!instance.getChildContext;\n}\nfunction walkTree(element, context, visitor) {\n    if (Array.isArray(element)) {\n        element.forEach(function (item) { return walkTree(item, context, visitor); });\n        return;\n    }\n    if (!element)\n        return;\n    if (isReactElement(element)) {\n        if (typeof element.type === 'function') {\n            var Comp = element.type;\n            var props = assign({}, Comp.defaultProps, getProps(element));\n            var childContext = context;\n            var child = void 0;\n            if (isComponentClass(Comp)) {\n                var instance_1 = new Comp(props, context);\n                instance_1.props = instance_1.props || props;\n                instance_1.context = instance_1.context || context;\n                instance_1.state = instance_1.state || null;\n                instance_1.setState = function (newState) {\n                    if (typeof newState === 'function') {\n                        newState = newState(instance_1.state, instance_1.props, instance_1.context);\n                    }\n                    instance_1.state = assign({}, instance_1.state, newState);\n                };\n                if (instance_1.componentWillMount) {\n                    instance_1.componentWillMount();\n                }\n                if (providesChildContext(instance_1)) {\n                    childContext = assign({}, context, instance_1.getChildContext());\n                }\n                if (visitor(element, instance_1, context) === false) {\n                    return;\n                }\n                child = instance_1.render();\n            }\n            else {\n                if (visitor(element, null, context) === false) {\n                    return;\n                }\n                child = Comp(props, context);\n            }\n            if (child) {\n                if (Array.isArray(child)) {\n                    child.forEach(function (item) { return walkTree(item, context, visitor); });\n                }\n                else {\n                    walkTree(child, childContext, visitor);\n                }\n            }\n        }\n        else {\n            if (visitor(element, null, context) === false) {\n                return;\n            }\n            if (element.props && element.props.children) {\n                react_1.Children.forEach(element.props.children, function (child) {\n                    if (child) {\n                        walkTree(child, context, visitor);\n                    }\n                });\n            }\n        }\n    }\n    else if (typeof element === 'string' || typeof element === 'number') {\n        visitor(element, null, context);\n    }\n}\nexports.walkTree = walkTree;\nfunction hasFetchDataFunction(instance) {\n    return typeof instance.fetchData === 'function';\n}\nfunction isPromise(query) {\n    return typeof query.then === 'function';\n}\nfunction getQueriesFromTree(_a, fetchRoot) {\n    var rootElement = _a.rootElement, _b = _a.rootContext, rootContext = _b === void 0 ? {} : _b;\n    if (fetchRoot === void 0) { fetchRoot = true; }\n    var queries = [];\n    walkTree(rootElement, rootContext, function (element, instance, context) {\n        var skipRoot = !fetchRoot && element === rootElement;\n        if (skipRoot)\n            return;\n        if (instance && isReactElement(element) && hasFetchDataFunction(instance)) {\n            var query = instance.fetchData();\n            if (isPromise(query)) {\n                queries.push({ query: query, element: element, context: context });\n                return false;\n            }\n        }\n    });\n    return queries;\n}\nfunction getDataFromTree(rootElement, rootContext, fetchRoot) {\n    if (rootContext === void 0) { rootContext = {}; }\n    if (fetchRoot === void 0) { fetchRoot = true; }\n    var queries = getQueriesFromTree({ rootElement: rootElement, rootContext: rootContext }, fetchRoot);\n    if (!queries.length)\n        return Promise.resolve();\n    var errors = [];\n    var mappedQueries = queries.map(function (_a) {\n        var query = _a.query, element = _a.element, context = _a.context;\n        return query\n            .then(function (_) { return getDataFromTree(element, context, false); })\n            .catch(function (e) { return errors.push(e); });\n    });\n    return Promise.all(mappedQueries).then(function (_) {\n        if (errors.length > 0) {\n            var error = errors.length === 1\n                ? errors[0]\n                : new Error(errors.length + \" errors were thrown when executing your GraphQL queries.\");\n            error.queryErrors = errors;\n            throw error;\n        }\n    });\n}\nexports.default = getDataFromTree;\n//# sourceMappingURL=getDataFromTree.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar invariant = require('invariant');\nvar ApolloConsumer = function (props, context) {\n    invariant(!!context.client, \"Could not find \\\"client\\\" in the context of ApolloConsumer. Wrap the root component in an <ApolloProvider>\");\n    return props.children(context.client);\n};\nApolloConsumer.contextTypes = {\n    client: PropTypes.object.isRequired,\n};\nexports.default = ApolloConsumer;\n//# sourceMappingURL=ApolloConsumer.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar ObservableQueryRecycler = (function () {\n    function ObservableQueryRecycler() {\n        this.observableQueries = [];\n    }\n    ObservableQueryRecycler.prototype.recycle = function (observableQuery) {\n        observableQuery.setOptions({\n            fetchPolicy: 'standby',\n            pollInterval: 0,\n            fetchResults: false,\n        });\n        this.observableQueries.push({\n            observableQuery: observableQuery,\n            subscription: observableQuery.subscribe({}),\n        });\n    };\n    ObservableQueryRecycler.prototype.reuse = function (options) {\n        if (this.observableQueries.length <= 0) {\n            return null;\n        }\n        var item = this.observableQueries.pop();\n        if (!item) {\n            return null;\n        }\n        var observableQuery = item.observableQuery, subscription = item.subscription;\n        subscription.unsubscribe();\n        var ssr = options.ssr, client = options.client, modifiableOpts = __rest(options, [\"ssr\", \"client\"]);\n        if (!shallowEqual(modifiableOpts.variables || {}, observableQuery.variables))\n            return null;\n        observableQuery.setOptions(__assign({}, modifiableOpts, { pollInterval: options.pollInterval, fetchPolicy: options.fetchPolicy }));\n        return observableQuery;\n    };\n    return ObservableQueryRecycler;\n}());\nexports.ObservableQueryRecycler = ObservableQueryRecycler;\n//# sourceMappingURL=queryRecycler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar queryRecycler_1 = require(\"./queryRecycler\");\nvar QueryRecyclerProvider = (function (_super) {\n    __extends(QueryRecyclerProvider, _super);\n    function QueryRecyclerProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.recyclers = new WeakMap();\n        _this.getQueryRecycler = _this.getQueryRecycler.bind(_this);\n        return _this;\n    }\n    QueryRecyclerProvider.prototype.componentWillReceiveProps = function (_, nextContext) {\n        if (this.context.client !== nextContext.client) {\n            this.recyclers = new WeakMap();\n        }\n    };\n    QueryRecyclerProvider.prototype.getQueryRecycler = function (component) {\n        if (!this.recyclers.has(component)) {\n            this.recyclers.set(component, new queryRecycler_1.ObservableQueryRecycler());\n        }\n        return this.recyclers.get(component);\n    };\n    QueryRecyclerProvider.prototype.getChildContext = function () {\n        return {\n            getQueryRecycler: this.getQueryRecycler,\n        };\n    };\n    QueryRecyclerProvider.prototype.render = function () {\n        return this.props.children;\n    };\n    QueryRecyclerProvider.propTypes = {\n        children: PropTypes.element.isRequired,\n    };\n    QueryRecyclerProvider.contextTypes = {\n        client: PropTypes.object,\n    };\n    QueryRecyclerProvider.childContextTypes = {\n        getQueryRecycler: PropTypes.func.isRequired,\n    };\n    return QueryRecyclerProvider;\n}(React.Component));\nexports.default = QueryRecyclerProvider;\n//# sourceMappingURL=QueryRecyclerProvider.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar react_1 = require(\"react\");\nvar QueryRecyclerProvider_1 = require(\"./QueryRecyclerProvider\");\nvar invariant = require('invariant');\nvar ApolloProvider = (function (_super) {\n    __extends(ApolloProvider, _super);\n    function ApolloProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        invariant(props.client, 'ApolloClient was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.');\n        return _this;\n    }\n    ApolloProvider.prototype.getChildContext = function () {\n        return {\n            client: this.props.client,\n        };\n    };\n    ApolloProvider.prototype.render = function () {\n        return (React.createElement(QueryRecyclerProvider_1.default, null, React.Children.only(this.props.children)));\n    };\n    ApolloProvider.propTypes = {\n        client: PropTypes.object.isRequired,\n        children: PropTypes.element.isRequired,\n    };\n    ApolloProvider.childContextTypes = {\n        client: PropTypes.object.isRequired,\n    };\n    return ApolloProvider;\n}(react_1.Component));\nexports.default = ApolloProvider;\n//# sourceMappingURL=ApolloProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant = require('invariant');\nvar DocumentType;\n(function (DocumentType) {\n    DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n    DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n    DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n})(DocumentType = exports.DocumentType || (exports.DocumentType = {}));\nfunction parser(document) {\n    var variables, type, name;\n    invariant(!!document && !!document.kind, \"Argument of \" + document + \" passed to parser was not a valid GraphQL \" +\n        \"DocumentNode. You may need to use 'graphql-tag' or another method \" +\n        \"to convert your operation into a document\");\n    var fragments = document.definitions.filter(function (x) { return x.kind === 'FragmentDefinition'; });\n    var queries = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'query';\n    });\n    var mutations = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'mutation';\n    });\n    var subscriptions = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'subscription';\n    });\n    invariant(!fragments.length ||\n        (queries.length || mutations.length || subscriptions.length), \"Passing only a fragment to 'graphql' is not yet supported. \" +\n        \"You must include a query, subscription or mutation as well\");\n    invariant(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" +\n        (document + \" had \" + queries.length + \" queries, \" + subscriptions.length + \" \") +\n        (\"subscriptions and \" + mutations.length + \" mutations. \") +\n        \"You can use 'compose' to join multiple operation types to a component\");\n    type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n    if (!queries.length && !mutations.length)\n        type = DocumentType.Subscription;\n    var definitions = queries.length\n        ? queries\n        : mutations.length ? mutations : subscriptions;\n    invariant(definitions.length === 1, \"react-apollo only supports one defintion per HOC. \" + document + \" had \" +\n        (definitions.length + \" definitions. \") +\n        \"You can use 'compose' to join multiple operation types to a component\");\n    var definition = definitions[0];\n    variables = definition.variableDefinitions || [];\n    if (definition.name && definition.name.kind === 'Name') {\n        name = definition.name.value;\n    }\n    else {\n        name = 'data';\n    }\n    return { name: name, type: type, variables: variables };\n}\nexports.parser = parser;\n//# sourceMappingURL=parser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar apollo_client_1 = require(\"apollo-client\");\nvar parser_1 = require(\"./parser\");\nvar pick = require('lodash/pick');\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar invariant = require('invariant');\nfunction observableQueryFields(observable) {\n    var fields = pick(observable, 'refetch', 'fetchMore', 'updateQuery', 'startPolling', 'stopPolling');\n    Object.keys(fields).forEach(function (key) {\n        var k = key;\n        if (typeof fields[k] === 'function') {\n            fields[k] = fields[k].bind(observable);\n        }\n    });\n    return fields;\n}\nfunction isDataFilled(data) {\n    return Object.keys(data).length > 0;\n}\nvar Query = (function (_super) {\n    __extends(Query, _super);\n    function Query(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.previousData = {};\n        _this.initializeQueryObservable = function (props) {\n            var variables = props.variables, pollInterval = props.pollInterval, fetchPolicy = props.fetchPolicy, errorPolicy = props.errorPolicy, notifyOnNetworkStatusChange = props.notifyOnNetworkStatusChange, query = props.query;\n            var operation = parser_1.parser(query);\n            invariant(operation.type === parser_1.DocumentType.Query, \"The <Query /> component requires a graphql query, but got a \" + (operation.type === parser_1.DocumentType.Mutation ? 'mutation' : 'subscription') + \".\");\n            var clientOptions = {\n                variables: variables,\n                pollInterval: pollInterval,\n                query: query,\n                fetchPolicy: fetchPolicy,\n                errorPolicy: errorPolicy,\n                notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            };\n            _this.queryObservable = _this.client.watchQuery(clientOptions);\n        };\n        _this.startQuerySubscription = function () {\n            _this.querySubscription = _this.queryObservable.subscribe({\n                next: _this.updateCurrentData,\n                error: function (error) {\n                    _this.resubscribeToQuery();\n                    if (!error.hasOwnProperty('graphQLErrors'))\n                        throw error;\n                    _this.updateCurrentData();\n                },\n            });\n        };\n        _this.removeQuerySubscription = function () {\n            if (_this.querySubscription) {\n                _this.querySubscription.unsubscribe();\n            }\n        };\n        _this.updateCurrentData = function () {\n            _this.setState({ result: _this.queryObservable.currentResult() });\n        };\n        _this.getQueryResult = function () {\n            var result = _this.state.result;\n            var loading = result.loading, networkStatus = result.networkStatus, errors = result.errors;\n            var error = result.error;\n            if (errors && errors.length > 0) {\n                error = new apollo_client_1.ApolloError({ graphQLErrors: errors });\n            }\n            var data = {};\n            if (loading) {\n                Object.assign(data, _this.previousData, result.data);\n            }\n            else if (error) {\n                Object.assign(data, (_this.queryObservable.getLastResult() || {}).data);\n            }\n            else {\n                data = result.data;\n                _this.previousData = result.data;\n            }\n            return __assign({ client: _this.client, data: isDataFilled(data) ? data : undefined, loading: loading,\n                error: error,\n                networkStatus: networkStatus }, observableQueryFields(_this.queryObservable));\n        };\n        invariant(!!context.client, \"Could not find \\\"client\\\" in the context of Query. Wrap the root component in an <ApolloProvider>\");\n        _this.client = context.client;\n        _this.initializeQueryObservable(props);\n        _this.state = {\n            result: _this.queryObservable.currentResult(),\n        };\n        return _this;\n    }\n    Query.prototype.fetchData = function () {\n        var _a = this.props, children = _a.children, ssr = _a.ssr, opts = __rest(_a, [\"children\", \"ssr\"]);\n        var fetchPolicy = opts.fetchPolicy;\n        if (ssr === false)\n            return false;\n        if (fetchPolicy === 'network-only' || fetchPolicy === 'cache-and-network') {\n            fetchPolicy = 'cache-first';\n        }\n        var observable = this.client.watchQuery(__assign({}, opts, { fetchPolicy: fetchPolicy }));\n        var result = this.queryObservable.currentResult();\n        if (result.loading) {\n            return observable.result();\n        }\n        else {\n            return false;\n        }\n    };\n    Query.prototype.componentDidMount = function () {\n        this.startQuerySubscription();\n    };\n    Query.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n        if (shallowEqual(this.props, nextProps) &&\n            this.client === nextContext.client) {\n            return;\n        }\n        if (this.client !== nextContext.client) {\n            this.client = nextContext.client;\n        }\n        this.removeQuerySubscription();\n        this.initializeQueryObservable(nextProps);\n        this.startQuerySubscription();\n        this.updateCurrentData();\n    };\n    Query.prototype.componentWillUnmount = function () {\n        this.removeQuerySubscription();\n    };\n    Query.prototype.render = function () {\n        var children = this.props.children;\n        var queryResult = this.getQueryResult();\n        return children(queryResult);\n    };\n    Query.prototype.resubscribeToQuery = function () {\n        this.removeQuerySubscription();\n        var lastError = this.queryObservable.getLastError();\n        var lastResult = this.queryObservable.getLastResult();\n        this.queryObservable.resetLastResults();\n        this.startQuerySubscription();\n        Object.assign(this.queryObservable, { lastError: lastError, lastResult: lastResult });\n    };\n    Query.contextTypes = {\n        client: PropTypes.object.isRequired,\n    };\n    return Query;\n}(React.Component));\nexports.default = Query;\n//# sourceMappingURL=Query.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar apollo_client_1 = require(\"apollo-client\");\nvar parser_1 = require(\"./parser\");\nvar pick = require('lodash/pick');\nvar assign = require('object-assign');\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar invariant = require('invariant');\nvar defaultMapPropsToOptions = function () { return ({}); };\nvar defaultMapResultToProps = function (props) { return props; };\nvar defaultMapPropsToSkip = function () { return false; };\nfunction observableQueryFields(observable) {\n    var fields = pick(observable, 'variables', 'refetch', 'fetchMore', 'updateQuery', 'startPolling', 'stopPolling', 'subscribeToMore');\n    Object.keys(fields).forEach(function (key) {\n        var k = key;\n        if (typeof fields[k] === 'function') {\n            fields[k] = fields[k].bind(observable);\n        }\n    });\n    return fields;\n}\nfunction getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nvar nextVersion = 0;\nfunction graphql(document, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var _a = operationOptions.options, options = _a === void 0 ? defaultMapPropsToOptions : _a, _b = operationOptions.skip, skip = _b === void 0 ? defaultMapPropsToSkip : _b, _c = operationOptions.alias, alias = _c === void 0 ? 'Apollo' : _c;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function')\n        mapPropsToOptions = function () { return options; };\n    var mapPropsToSkip = skip;\n    if (typeof mapPropsToSkip !== 'function')\n        mapPropsToSkip = function () { return skip; };\n    var mapResultToProps = operationOptions.props;\n    var operation = parser_1.parser(document);\n    var version = nextVersion++;\n    function wrapWithApolloComponent(WrappedComponent) {\n        var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n        var GraphQL = (function (_super) {\n            __extends(GraphQL, _super);\n            function GraphQL(props, context) {\n                var _this = _super.call(this, props, context) || this;\n                _this.previousData = {};\n                _this.version = version;\n                _this.type = operation.type;\n                _this.dataForChildViaMutation = _this.dataForChildViaMutation.bind(_this);\n                _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n                return _this;\n            }\n            GraphQL.prototype.componentWillMount = function () {\n                if (!this.shouldSkip(this.props)) {\n                    this.setInitialProps();\n                }\n            };\n            GraphQL.prototype.componentDidMount = function () {\n                this.hasMounted = true;\n                if (this.type === parser_1.DocumentType.Mutation)\n                    return;\n                if (!this.shouldSkip(this.props)) {\n                    this.subscribeToQuery();\n                    if (this.refetcherQueue) {\n                        var _a = this.refetcherQueue, args = _a.args, resolve = _a.resolve, reject = _a.reject;\n                        this.queryObservable\n                            .refetch(args)\n                            .then(resolve)\n                            .catch(reject);\n                    }\n                }\n            };\n            GraphQL.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n                if (this.shouldSkip(nextProps)) {\n                    if (!this.shouldSkip(this.props)) {\n                        this.unsubscribeFromQuery();\n                    }\n                    return;\n                }\n                var client = mapPropsToOptions(nextProps).client;\n                if (shallowEqual(this.props, nextProps) &&\n                    (this.client === client || this.client === nextContext.client)) {\n                    return;\n                }\n                this.shouldRerender = true;\n                if (this.client !== client && this.client !== nextContext.client) {\n                    if (client) {\n                        this.client = client;\n                    }\n                    else {\n                        this.client = nextContext.client;\n                    }\n                    this.unsubscribeFromQuery();\n                    this.queryObservable = null;\n                    this.previousData = {};\n                    this.updateQuery(nextProps);\n                    if (!this.shouldSkip(nextProps)) {\n                        this.subscribeToQuery();\n                    }\n                    return;\n                }\n                if (this.type === parser_1.DocumentType.Mutation) {\n                    return;\n                }\n                if (this.type === parser_1.DocumentType.Subscription &&\n                    operationOptions.shouldResubscribe &&\n                    operationOptions.shouldResubscribe(this.props, nextProps)) {\n                    this.unsubscribeFromQuery();\n                    delete this.queryObservable;\n                    this.updateQuery(nextProps);\n                    this.subscribeToQuery();\n                    return;\n                }\n                this.updateQuery(nextProps);\n                this.subscribeToQuery();\n            };\n            GraphQL.prototype.componentWillUnmount = function () {\n                if (this.type === parser_1.DocumentType.Query) {\n                    if (this.queryObservable) {\n                        var recycler = this.getQueryRecycler();\n                        if (recycler) {\n                            recycler.recycle(this.queryObservable);\n                            delete this.queryObservable;\n                        }\n                    }\n                    this.unsubscribeFromQuery();\n                }\n                if (this.type === parser_1.DocumentType.Subscription)\n                    this.unsubscribeFromQuery();\n                this.hasMounted = false;\n            };\n            GraphQL.prototype.getQueryRecycler = function () {\n                return (this.context.getQueryRecycler &&\n                    this.context.getQueryRecycler(GraphQL));\n            };\n            GraphQL.prototype.getClient = function (props) {\n                if (this.client)\n                    return this.client;\n                var client = mapPropsToOptions(props).client;\n                if (client) {\n                    this.client = client;\n                }\n                else {\n                    this.client = this.context.client;\n                }\n                invariant(!!this.client, \"Could not find \\\"client\\\" in the context of \" +\n                    (\"\\\"\" + graphQLDisplayName + \"\\\". \") +\n                    \"Wrap the root component in an <ApolloProvider>\");\n                return this.client;\n            };\n            GraphQL.prototype.calculateOptions = function (props, newOpts) {\n                if (props === void 0) { props = this.props; }\n                var opts = mapPropsToOptions(props);\n                if (newOpts && newOpts.variables) {\n                    newOpts.variables = assign({}, opts.variables, newOpts.variables);\n                }\n                if (newOpts)\n                    opts = assign({}, opts, newOpts);\n                if (opts.variables || !operation.variables.length)\n                    return opts;\n                var variables = {};\n                for (var _i = 0, _a = operation.variables; _i < _a.length; _i++) {\n                    var _b = _a[_i], variable = _b.variable, type = _b.type;\n                    if (!variable.name || !variable.name.value)\n                        continue;\n                    var variableName = variable.name.value;\n                    var variableProp = props[variableName];\n                    if (typeof variableProp !== 'undefined') {\n                        variables[variableName] = variableProp;\n                        continue;\n                    }\n                    if (type.kind !== 'NonNullType') {\n                        variables[variableName] = null;\n                        continue;\n                    }\n                    invariant(typeof variableProp !== 'undefined', \"The operation '\" + operation.name + \"' wrapping '\" + getDisplayName(WrappedComponent) + \"' \" +\n                        (\"is expecting a variable: '\" + variable.name.value + \"' but it was not found in the props \") +\n                        (\"passed to '\" + graphQLDisplayName + \"'\"));\n                }\n                opts = __assign({}, opts, { variables: variables });\n                return opts;\n            };\n            GraphQL.prototype.calculateResultProps = function (result) {\n                var name = this.type === parser_1.DocumentType.Mutation ? 'mutate' : 'data';\n                if (operationOptions.name)\n                    name = operationOptions.name;\n                var newResult = (_a = {},\n                    _a[name] = result,\n                    _a.ownProps = this.props,\n                    _a);\n                if (mapResultToProps)\n                    return mapResultToProps(newResult);\n                return _b = {}, _b[name] = defaultMapResultToProps(result), _b;\n                var _a, _b;\n            };\n            GraphQL.prototype.setInitialProps = function () {\n                if (this.type === parser_1.DocumentType.Mutation) {\n                    return;\n                }\n                var opts = this.calculateOptions(this.props);\n                this.createQuery(opts);\n            };\n            GraphQL.prototype.createQuery = function (opts, props) {\n                if (props === void 0) { props = this.props; }\n                if (this.type === parser_1.DocumentType.Subscription) {\n                    this.queryObservable = this.getClient(props).subscribe(assign({ query: document }, opts));\n                }\n                else {\n                    var recycler = this.getQueryRecycler();\n                    var queryObservable = null;\n                    if (recycler)\n                        queryObservable = recycler.reuse(opts);\n                    if (queryObservable === null) {\n                        this.queryObservable = this.getClient(props).watchQuery(assign({\n                            query: document,\n                            metadata: {\n                                reactComponent: {\n                                    displayName: graphQLDisplayName,\n                                },\n                            },\n                        }, opts));\n                    }\n                    else {\n                        this.queryObservable = queryObservable;\n                    }\n                }\n            };\n            GraphQL.prototype.updateQuery = function (props) {\n                var opts = this.calculateOptions(props);\n                if (!this.queryObservable) {\n                    this.createQuery(opts, props);\n                }\n                if (this.queryObservable._setOptionsNoResult) {\n                    this.queryObservable._setOptionsNoResult(opts);\n                }\n                else {\n                    if (this.queryObservable.setOptions) {\n                        this.queryObservable\n                            .setOptions(opts)\n                            .catch(function () { return null; });\n                    }\n                }\n            };\n            GraphQL.prototype.fetchData = function () {\n                if (this.shouldSkip())\n                    return false;\n                if (operation.type === parser_1.DocumentType.Mutation ||\n                    operation.type === parser_1.DocumentType.Subscription)\n                    return false;\n                var opts = this.calculateOptions();\n                if (opts.ssr === false)\n                    return false;\n                if (opts.fetchPolicy === 'network-only' ||\n                    opts.fetchPolicy === 'cache-and-network') {\n                    opts.fetchPolicy = 'cache-first';\n                }\n                var observable = this.getClient(this.props).watchQuery(assign({ query: document }, opts));\n                var result = observable.currentResult();\n                if (result.loading) {\n                    return observable.result();\n                }\n                else {\n                    return false;\n                }\n            };\n            GraphQL.prototype.subscribeToQuery = function () {\n                var _this = this;\n                if (this.querySubscription) {\n                    return;\n                }\n                var next = function (results) {\n                    if (_this.type === parser_1.DocumentType.Subscription) {\n                        _this.lastSubscriptionData = results;\n                    }\n                    var clashingKeys = Object.keys(observableQueryFields(results.data));\n                    invariant(clashingKeys.length === 0, \"the result of the '\" + graphQLDisplayName + \"' operation contains \" +\n                        \"keys that conflict with the return object.\" +\n                        clashingKeys.map(function (k) { return \"'\" + k + \"'\"; }).join(', ') +\n                        \" not allowed.\");\n                    _this.forceRenderChildren();\n                };\n                var handleError = function (error) {\n                    _this.resubscribeToQuery();\n                    if (error.hasOwnProperty('graphQLErrors'))\n                        return next({ error: error });\n                    throw error;\n                };\n                this.querySubscription = this.queryObservable.subscribe({\n                    next: next,\n                    error: handleError,\n                });\n            };\n            GraphQL.prototype.unsubscribeFromQuery = function () {\n                if (this.querySubscription) {\n                    this.querySubscription.unsubscribe();\n                    delete this.querySubscription;\n                }\n            };\n            GraphQL.prototype.resubscribeToQuery = function () {\n                var lastSubscription = this.querySubscription;\n                if (lastSubscription) {\n                    delete this.querySubscription;\n                }\n                var _a = this.queryObservable, lastError = _a.lastError, lastResult = _a.lastResult;\n                this.queryObservable.resetLastResults();\n                this.subscribeToQuery();\n                Object.assign(this.queryObservable, { lastError: lastError, lastResult: lastResult });\n                if (lastSubscription) {\n                    lastSubscription.unsubscribe();\n                }\n            };\n            GraphQL.prototype.shouldSkip = function (props) {\n                if (props === void 0) { props = this.props; }\n                return mapPropsToSkip(props);\n            };\n            GraphQL.prototype.forceRenderChildren = function () {\n                this.shouldRerender = true;\n                if (this.hasMounted)\n                    this.forceUpdate();\n            };\n            GraphQL.prototype.getWrappedInstance = function () {\n                invariant(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" +\n                    \"{ withRef: true } in the options\");\n                return this.wrappedInstance;\n            };\n            GraphQL.prototype.setWrappedInstance = function (ref) {\n                this.wrappedInstance = ref;\n            };\n            GraphQL.prototype.dataForChildViaMutation = function (mutationOpts) {\n                var opts = this.calculateOptions(this.props, mutationOpts);\n                if (typeof opts.variables === 'undefined')\n                    delete opts.variables;\n                opts.mutation = document;\n                return this.getClient(this.props).mutate(opts);\n            };\n            GraphQL.prototype.dataForChild = function () {\n                var _this = this;\n                if (this.type === parser_1.DocumentType.Mutation) {\n                    return this.dataForChildViaMutation;\n                }\n                var opts = this.calculateOptions(this.props);\n                var data = {};\n                assign(data, observableQueryFields(this.queryObservable));\n                if (this.type === parser_1.DocumentType.Subscription) {\n                    assign(data, {\n                        loading: !this.lastSubscriptionData,\n                        variables: opts.variables,\n                    }, this.lastSubscriptionData && this.lastSubscriptionData.data);\n                }\n                else {\n                    var currentResult = this.queryObservable.currentResult();\n                    var loading = currentResult.loading, networkStatus = currentResult.networkStatus, errors = currentResult.errors;\n                    var error_1 = currentResult.error;\n                    if (errors && errors.length > 0) {\n                        error_1 = new apollo_client_1.ApolloError({ graphQLErrors: errors });\n                    }\n                    assign(data, { loading: loading, networkStatus: networkStatus });\n                    var logErrorTimeoutId_1 = setTimeout(function () {\n                        if (error_1) {\n                            var errorMessage = error_1;\n                            if (error_1.stack) {\n                                errorMessage = error_1.stack.includes(error_1.message)\n                                    ? error_1.stack\n                                    : error_1.message + \"\\n\" + error_1.stack;\n                            }\n                            console.error(\"Unhandled (in react-apollo:\" + graphQLDisplayName + \")\", errorMessage);\n                        }\n                    }, 10);\n                    Object.defineProperty(data, 'error', {\n                        configurable: true,\n                        enumerable: true,\n                        get: function () {\n                            clearTimeout(logErrorTimeoutId_1);\n                            return error_1;\n                        },\n                    });\n                    if (loading) {\n                        assign(data, this.previousData, currentResult.data);\n                    }\n                    else if (error_1) {\n                        assign(data, (this.queryObservable.getLastResult() || {}).data);\n                    }\n                    else {\n                        assign(data, currentResult.data);\n                        this.previousData = currentResult.data;\n                    }\n                    if (!this.querySubscription) {\n                        data.refetch = function (args) {\n                            return new Promise(function (r, f) {\n                                _this.refetcherQueue = { resolve: r, reject: f, args: args };\n                            });\n                        };\n                    }\n                }\n                return data;\n            };\n            GraphQL.prototype.render = function () {\n                if (this.shouldSkip()) {\n                    if (operationOptions.withRef) {\n                        return (React.createElement(WrappedComponent, __assign({}, assign({}, this.props, { ref: this.setWrappedInstance }))));\n                    }\n                    return React.createElement(WrappedComponent, __assign({}, this.props));\n                }\n                var _a = this, shouldRerender = _a.shouldRerender, renderedElement = _a.renderedElement, props = _a.props;\n                this.shouldRerender = false;\n                if (!shouldRerender &&\n                    renderedElement &&\n                    renderedElement.type === WrappedComponent) {\n                    return renderedElement;\n                }\n                var data = this.dataForChild();\n                var clientProps = this.calculateResultProps(data);\n                var mergedPropsAndData = assign({}, props, clientProps);\n                if (operationOptions.withRef)\n                    mergedPropsAndData.ref = this.setWrappedInstance;\n                this.renderedElement = React.createElement(WrappedComponent, __assign({}, mergedPropsAndData));\n                return this.renderedElement;\n            };\n            GraphQL.displayName = graphQLDisplayName;\n            GraphQL.WrappedComponent = WrappedComponent;\n            GraphQL.contextTypes = {\n                client: PropTypes.object,\n                getQueryRecycler: PropTypes.func,\n            };\n            return GraphQL;\n        }(React.Component));\n        return hoistNonReactStatics(GraphQL, WrappedComponent, {});\n    }\n    return wrapWithApolloComponent;\n}\nexports.default = graphql;\n//# sourceMappingURL=graphql.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ApolloConsumer_1 = require(\"./ApolloConsumer\");\nvar assign = require('object-assign');\nvar invariant = require('invariant');\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nfunction getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nfunction withApollo(WrappedComponent, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var withDisplayName = \"withApollo(\" + getDisplayName(WrappedComponent) + \")\";\n    var WithApollo = (function (_super) {\n        __extends(WithApollo, _super);\n        function WithApollo(props) {\n            var _this = _super.call(this, props) || this;\n            _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n            return _this;\n        }\n        WithApollo.prototype.getWrappedInstance = function () {\n            invariant(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" +\n                \"{ withRef: true } in the options\");\n            return this.wrappedInstance;\n        };\n        WithApollo.prototype.setWrappedInstance = function (ref) {\n            this.wrappedInstance = ref;\n        };\n        WithApollo.prototype.render = function () {\n            var _this = this;\n            return (React.createElement(ApolloConsumer_1.default, null, function (client) {\n                var props = assign({}, _this.props, {\n                    client: client,\n                    ref: operationOptions.withRef\n                        ? _this.setWrappedInstance\n                        : undefined,\n                });\n                return React.createElement(WrappedComponent, __assign({}, props));\n            }));\n        };\n        WithApollo.displayName = withDisplayName;\n        WithApollo.WrappedComponent = WrappedComponent;\n        return WithApollo;\n    }(React.Component));\n    return hoistNonReactStatics(WithApollo, WrappedComponent, {});\n}\nexports.default = withApollo;\n//# sourceMappingURL=withApollo.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getDataFromTree_1 = require(\"./getDataFromTree\");\nexports.getDataFromTree = getDataFromTree_1.default;\n__export(require(\"./getDataFromTree\"));\nvar ApolloConsumer_1 = require(\"./ApolloConsumer\");\nexports.ApolloConsumer = ApolloConsumer_1.default;\n__export(require(\"./ApolloConsumer\"));\nvar ApolloProvider_1 = require(\"./ApolloProvider\");\nexports.ApolloProvider = ApolloProvider_1.default;\n__export(require(\"./ApolloProvider\"));\nvar Query_1 = require(\"./Query\");\nexports.Query = Query_1.default;\n__export(require(\"./Query\"));\nvar graphql_1 = require(\"./graphql\");\nexports.graphql = graphql_1.default;\n__export(require(\"./graphql\"));\nvar withApollo_1 = require(\"./withApollo\");\nexports.withApollo = withApollo_1.default;\nvar compose = require('lodash/flowRight');\nexports.compose = compose;\n//# sourceMappingURL=browser.js.map"],"names":["props","attributes","type","prototype","render","isReactComponent","getChildContext","Array","isArray","forEach","defaultProps","context","state","setState","componentWillMount","children","react_1","Children","fetchData","then","rootElement","rootContext","push","query","element","length","Promise","resolve","map","catch","all","Error","queryErrors","Object","defineProperty","value","client","contextTypes","object","isRequired","this","__assign","assign","arguments","hasOwnProperty","call","__rest","indexOf","getOwnPropertySymbols","observableQueries","recycle","setOptions","fetchPolicy","pollInterval","fetchResults","observableQuery","subscription","subscribe","reuse","pop","unsubscribe","ssr","variables","__extends","setPrototypeOf","__proto__","constructor","create","recyclers","WeakMap","getQueryRecycler","bind","componentWillReceiveProps","has","set","queryRecycler_1","ObservableQueryRecycler","get","propTypes","childContextTypes","func","Component","createElement","default","only","kind","definitions","filter","operation","Query","Mutation","Subscription","variableDefinitions","name","DocumentType","keys","previousData","initializeQueryObservable","errorPolicy","notifyOnNetworkStatusChange","parser","queryObservable","watchQuery","startQuerySubscription","querySubscription","next","updateCurrentData","error","resubscribeToQuery","removeQuerySubscription","result","currentResult","getQueryResult","loading","networkStatus","errors","apollo_client_1","ApolloError","graphQLErrors","data","getLastResult","componentDidMount","componentWillUnmount","getLastError","resetLastResults","lastError","lastResult","displayName","version","dataForChildViaMutation","setWrappedInstance","shouldSkip","setInitialProps","hasMounted","subscribeToQuery","refetcherQueue","args","reject","refetch","unsubscribeFromQuery","shouldRerender","updateQuery","shouldResubscribe","getClient","calculateOptions","variable","calculateResultProps","ownProps","createQuery","metadata","reactComponent","_setOptionsNoResult","lastSubscriptionData","join","forceRenderChildren","forceUpdate","getWrappedInstance","withRef","wrappedInstance","mutation","mutate","dataForChild","setTimeout","stack","includes","message","console","configurable","enumerable","clearTimeout","ref","renderedElement","WrappedComponent","options","skip","alias"],"mappings":"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"}